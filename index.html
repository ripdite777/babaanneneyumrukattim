<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Babaannene TÄ±r Ã‡arpmadan KaÃ§</title>
    <style>
        body {
            background-color: #f0f0f0;
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            overflow: hidden;
        }

        /* Phone container */
        #phone {
            width: 375px;
            height: 667px;
            background: #fff;
            border-radius: 30px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
        }

        /* Phone screen */
        #phoneScreen {
            width: 100%;
            height: 80%;
            background-color: #333;
            position: relative;
        }

        /* Phone home button */
        #homeButton {
            width: 60px;
            height: 10px;
            background-color: #ddd;
            border-radius: 15px;
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
        }

        /* Control buttons */
        #playButton, #pauseButton {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            background: #4CAF50;
            padding: 10px;
            color: white;
            font-size: 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        #pauseButton {
            background: #f44336;
        }

        /* Phone applications area */
        #apps {
            display: flex;
            justify-content: space-around;
            margin-top: 10px;
        }

        .appIcon {
            width: 40px;
            height: 40px;
            background-color: #888;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-weight: bold;
            cursor: pointer;
        }

        #oyunAlani {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            background: linear-gradient(to bottom, #888, #555);
            overflow: hidden;
            border: 5px solid black;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        #babaanne {
            width: 80px;
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            transition: transform 0.1s ease-in-out;
        }

        .tir {
            width: 100px;
            position: absolute;
            top: -120px;
        }

        #puan {
            font-size: 24px;
            font-weight: bold;
            margin-top: 10px;
        }

        #tokat {
            position: absolute;
            width: 60px;
            display: none;
        }

        #babaanneFirlama {
            position: fixed;
            width: 200px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            transition: transform 0.5s ease-out;
            display: none;
        }

        /* Music controls */
        #musicControl {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }

        #musicPlay {
            padding: 5px;
            cursor: pointer;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
        }

        #musicStop {
            padding: 5px;
            cursor: pointer;
            background-color: #f44336;
            color: white;
            border: none;
            border-radius: 5px;
        }

    </style>
</head>
<body>

    <div id="phone">
        <div id="phoneScreen">
            <div id="oyunAlani">
                <img id="babaanne" src="images__7_-removebg-preview.png" alt="Babaanne">
                <img id="tokat" src="tokat.png" alt="Tokat">
            </div>
            <img id="babaanneFirlama" src="babaanne.png" alt="FÄ±rlayan Babaanne">
            <p id="puan">Puan: 0</p>
        </div>

        <div id="homeButton"></div>

        <!-- Music control buttons -->
        <div id="musicControl">
            <button id="musicPlay">Play Music</button>
            <button id="musicStop">Stop Music</button>
        </div>

        <!-- Game control buttons -->
        <button id="playButton">Play</button>
        <button id="pauseButton">Pause</button>

        <!-- Apps section -->
        <div id="apps">
            <div class="appIcon" id="app1">ðŸ“±</div>
            <div class="appIcon" id="app2">ðŸ“·</div>
            <div class="appIcon" id="app3">ðŸŽµ</div>
        </div>
    </div>

    <audio id="carpmaSesi" src="carpma.mp3"></audio>
    <audio id="tokatSesi" src="tokat.mp3"></audio>
    <audio id="musicAudio" src="mortals.mp3"></audio>

    <script>
        let oyunAlani = document.getElementById("oyunAlani");
        let babaanne = document.getElementById("babaanne");
        let tokat = document.getElementById("tokat");
        let puanGosterge = document.getElementById("puan");
        let babaanneFirlama = document.getElementById("babaanneFirlama");
        let carpmaSesi = document.getElementById("carpmaSesi");
        let tokatSesi = document.getElementById("tokatSesi");
        let musicAudio = document.getElementById("musicAudio");

        let puan = 0;
        let tirHizi = 5;
        let hareketEdiyor = false;
        let durmaSuresi = 0;
        let dokunmaBaslangicX = 0;

        oyunAlani.addEventListener("touchstart", (e) => {
            let dokunma = e.touches[0];
            dokunmaBaslangicX = dokunma.clientX - babaanne.offsetLeft;
            hareketEdiyor = true;
        });

        oyunAlani.addEventListener("touchmove", (e) => {
            let dokunma = e.touches[0];
            let yeniX = dokunma.clientX - dokunmaBaslangicX;
            yeniX = Math.max(0, Math.min(oyunAlani.clientWidth - babaanne.clientWidth, yeniX));
            babaanne.style.left = yeniX + "px";
            hareketEdiyor = true;
        });

        oyunAlani.addEventListener("touchend", () => {
            hareketEdiyor = false;
        });

        function tirOlustur() {
            let tir = document.createElement("img");
            tir.src = "tir.png";
            tir.classList.add("tir");
            tir.style.left = Math.random() * (oyunAlani.clientWidth - 100) + "px";
            oyunAlani.appendChild(tir);
            
            let tirInterval = setInterval(() => {
                tir.style.top = (tir.offsetTop + tirHizi) + "px";

                if (carpistiMi(babaanne, tir)) {
                    carpmaSesi.play();
                    babaanneFirlama.style.display = "block";
                    babaanneFirlama.style.transform = "translate(-50%, -50%) scale(1.5)";
                    setTimeout(() => {
                        alert("Babaannene tÄ±r Ã§arptÄ±! Oyun bitti. PuanÄ±n: " + puan);
                        location.reload();
                    }, 800);
                }

                if (tir.offsetTop > oyunAlani.clientHeight) {
                    tir.remove();
                    clearInterval(tirInterval);
                    puan += 10;
                    puanGosterge.innerText = "Puan: " + puan;
                    
                    if (puan % 50 === 0) {
                        tirHizi += 1;
                    }
                }
            }, 30);
        }

        function carpistiMi(a, b) {
            let aRect = a.getBoundingClientRect();
            let bRect = b.getBoundingClientRect();

            return !(aRect.top > bRect.bottom || aRect.bottom < bRect.top || aRect.right < bRect.left || aRect.left > bRect.right);
        }

        setInterval(tirOlustur, 1500);

        // Music control
        document.getElementById("musicPlay").onclick = function() {
            musicAudio.play();
        };

        document.getElementById("musicStop").onclick = function() {
            musicAudio.pause();
        };

        // Pause and Play the game
        document.getElementById("playButton").onclick = function() {
            // Resume game
        };

        document.getElementById("pauseButton").onclick = function() {
            // Pause game logic
        };
    </script>

</body>
</html>
